(()=>{"use strict";var n,r,e,t,o,i,a,s,l,d,u,p,f,c,m={759:(n,r,e)=>{e.d(r,{Z:()=>s});var t=e(81),o=e.n(t),i=e(645),a=e.n(i)()(o());a.push([n.id,"/**\r\n * tiny-player v.0.2.1\r\n * irubataru.com\r\n *\r\n * Copyright (c) 2018-2021 Jonas Rylund Glesaaen\r\n *\r\n * MIT License\r\n */\r\n\r\n.iru-tiny-player {\r\n  position: relative;\r\n  border: 0.2ex solid;\r\n}\r\n\r\n.iru-tiny-player .song-main-info {\r\n  margin: 2ex 2ex;\r\n  font-size: 1.25rem;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .iru-tiny-player .song-main-info {\r\n    margin: 2ex 1ex;\r\n    font-size: 1rem;\r\n  }\r\n}\r\n\r\n.iru-tiny-player .icon {\r\n  margin-right: 1ex;\r\n  min-width: 1.5rem;\r\n  flex-basis: 1.5rem;\r\n  text-decoration: none;\r\n  border-bottom: none;\r\n  position: relative;\r\n}\r\n\r\n.iru-tiny-player .icon:hover {\r\n  color: #18bfef;\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .iru-tiny-player .icon {\r\n    margin-right: 0.25ex;\r\n    min-width: 1rem;\r\n    flex-basis: 1rem;\r\n  }\r\n}\r\n\r\n.iru-tiny-player .icon:before {\r\n    -moz-osx-font-smoothing: grayscale;\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: FontAwesome;\r\n    font-style: normal;\r\n    font-weight: normal;\r\n    text-transform: none !important;\r\n}\r\n\r\n.iru-tiny-player .song-main-info .icon.fa-stop {\r\n  margin-right: 2ex;\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .iru-tiny-player .song-main-info .icon.fa-stop {\r\n    margin-right: 0.5ex;\r\n  }\r\n}\r\n\r\n.iru-tiny-player .song-main-info .song-timer {\r\n  margin: 0ex 1ex;\r\n  white-space: nowrap;\r\n}\r\n\r\n.iru-tiny-player .song-main-info .song-title {\r\n  flex-grow: 1;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n\r\n.iru-tiny-player .song-seek {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.iru-tiny-player .song-progress {\r\n  position: absolute;\r\n  background-color: rgba(21, 29, 31, 0.15);\r\n  width: 0%;\r\n  height: 100%;\r\n}\r\n\r\n.iru-tiny-player .song-volume-control {\r\n  position: absolute;\r\n  background-color: rgba(245, 245, 245, 0.85);\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n}\r\n\r\n.iru-tiny-player .song-volume-bar {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 20%;\r\n  height: 10px;\r\n  margin: 0px auto;\r\n  width: 80%;\r\n  background-color: rgba(21, 29, 31, 0.9);\r\n}\r\n\r\n.iru-tiny-player .song-volume-bar#fg {\r\n  height: 5px;\r\n  margin: -2.5px auto;\r\n  width: 60%;\r\n}\r\n\r\n.iru-tiny-player .song-volume-bar#fgg {\r\n  height: 10px;\r\n  margin: -5px auto;\r\n  background-color: rgba(255, 255, 255, 0);\r\n  width: 60%;\r\n}\r\n\r\n.iru-tiny-player .song-volume-bar#bg {\r\n  height: 1.5px;\r\n  margin: -0.75px auto;\r\n  background-color: rgba(21, 29, 31, 0.75);\r\n  width: 60%;\r\n}\r\n\r\n.iru-tiny-player .song-volume-dot {\r\n  position: absolute;\r\n  width: 15px;\r\n  height: 15px;\r\n  top: 50%;\r\n  left: 80%;\r\n  margin: -7.5px auto;\r\n  background-color: rgba(21, 29, 31, 0.9);\r\n  border-radius: 7.5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.iru-tiny-player .song-volume-dot:hover {\r\n  background-color: #18bfef;\r\n}\r\n\r\n.iru-tiny-player .icon.fa-times {\r\n  margin: 2ex 2.5ex;\r\n  position: absolute;\r\n  font-size: 1.25rem;\r\n  right: 0;\r\n  top: 0;\r\n}\r\n\r\n@media screen and (max-width: 480px) {\r\n  .iru-tiny-player .icon.fa-times {\r\n    margin: 2ex 1.5ex;\r\n    font-size: 1rem;\r\n  }\r\n}\r\n",""]);const s=a},645:n=>{n.exports=function(n){var r=[];return r.toString=function(){return this.map((function(r){var e="",t=void 0!==r[5];return r[4]&&(e+="@supports (".concat(r[4],") {")),r[2]&&(e+="@media ".concat(r[2]," {")),t&&(e+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),e+=n(r),t&&(e+="}"),r[2]&&(e+="}"),r[4]&&(e+="}"),e})).join("")},r.i=function(n,e,t,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(t)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<n.length;d++){var u=[].concat(n[d]);t&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),e&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=e):u[2]=e),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),r.push(u))}},r}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var r=[];function e(n){for(var e=-1,t=0;t<r.length;t++)if(r[t].identifier===n){e=t;break}return e}function t(n,t){for(var i={},a=[],s=0;s<n.length;s++){var l=n[s],d=t.base?l[0]+t.base:l[0],u=i[d]||0,p="".concat(d," ").concat(u);i[d]=u+1;var f=e(p),c={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)r[f].references++,r[f].updater(c);else{var m=o(c,t);t.byIndex=s,r.splice(s,0,{identifier:p,updater:m,references:1})}a.push(p)}return a}function o(n,r){var e=r.domAPI(r);return e.update(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap&&r.supports===n.supports&&r.layer===n.layer)return;e.update(n=r)}else e.remove()}}n.exports=function(n,o){var i=t(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=e(i[a]);r[s].references--}for(var l=t(n,o),d=0;d<i.length;d++){var u=e(i[d]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}i=l}}},569:n=>{var r={};n.exports=function(n,e){var t=function(n){if(void 0===r[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}r[n]=e}return r[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}},216:n=>{n.exports=function(n){var r=document.createElement("style");return n.setAttributes(r,n.attributes),n.insert(r,n.options),r}},565:(n,r,e)=>{n.exports=function(n){var r=e.nc;r&&n.setAttribute("nonce",r)}},795:n=>{n.exports=function(n){var r=n.insertStyleElement(n);return{update:function(e){!function(n,r,e){var t="";e.supports&&(t+="@supports (".concat(e.supports,") {")),e.media&&(t+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(t+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),t+=e.css,o&&(t+="}"),e.media&&(t+="}"),e.supports&&(t+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),r.styleTagTransform(t,n,r.options)}(r,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(r)}}}},589:n=>{n.exports=function(n,r){if(r.styleSheet)r.styleSheet.cssText=n;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(n))}}}},g={};function h(n){var r=g[n];if(void 0!==r)return r.exports;var e=g[n]={id:n,exports:{}};return m[n](e,e.exports,h),e.exports}h.n=n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return h.d(r,{a:r}),r},h.d=(n,r)=>{for(var e in r)h.o(r,e)&&!h.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:r[e]})},h.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r),n=h(379),r=h.n(n),e=h(795),t=h.n(e),o=h(569),i=h.n(o),a=h(565),s=h.n(a),l=h(216),d=h.n(l),u=h(589),p=h.n(u),f=h(759),(c={}).styleTagTransform=p(),c.setAttributes=s(),c.insert=i().bind(null,"head"),c.domAPI=t(),c.insertStyleElement=d(),r()(f.Z,c),f.Z&&f.Z.locals&&f.Z.locals,function(){$(document).ready((function(){n.tinyPlayer.createPlayerFromTags()}));var n={tinyPlayer:{Player:class{constructor(r){this._playlist=r,this._index=0,this._mouse_down=!1,this._seeking=!1,this._animation_timestamp=0,this.ns=n.tinyPlayer}play(n){var r=this;n="number"==typeof n?n:r._index,r._playlist[n].howl.play(),r._index=n}pause(n){n="number"==typeof n?n:this._index;var r=this._playlist[n].howl;r&&r.pause()}stop(n){var r=this;n="number"==typeof n?n:r._index,r._playlist[n].howl.stop(),r._index=n}toggleTo(n){var r=this,e=r._playlist[r._index].howl;if(e.playing()){if(n===r._index)return void r.pause();e.stop()}r.play(n)}seek(n,r){var e=this.ns,t=this._playlist[n].howl,o=this._playlist[n].html_elem,i=r*t.duration();t.seek(i),o.find(".song-timer").html(e._formatTime(i)+" / "+e._formatTime(t.duration()))}updateDuration(n,r){this._playlist[n].html_elem.find(".song-progress").css("width",(100*r||0)+"%")}volume(n){Howler.volume(n),this._playlist.forEach((function(r){r.html_elem.find(".song-volume-bar#fg").css("width",60*n+"%"),r.html_elem.find(".song-volume-dot").css("left",60*n+20+"%")}))}step(n){var r=this,e=this.ns,t=r._playlist[r._index].howl,o=r._playlist[r._index].html_elem,i=t.seek()||0;o.find(".song-timer").html(e._formatTime(i)+" / "+e._formatTime(t.duration())),r._seeking||r.updateDuration(r._index,i/t.duration()),o.find(".song-title"),t.playing()&&requestAnimationFrame(r.step.bind(r))}},createPlayerFromTags:function(){var n=this,r=[];$("audio.iru-tiny-player").each((function(){let e="";e=$(this).attr("data-title")?$(this).attr("data-title"):$(this).prevUntil("audio",":header").first().html();var t=!("none"===$(this).attr("preload")||"metadata"===$(this).attr("preload"));let o=[];$(this).children("source").each((function(){o.push($(this).attr("src"))}));var i=n.createSongPlayer(e);r.push({title:e,files:o,html_elem:i,preload:t,howl:null}),$(this).after(i),$(this).hide()}));var e=new n.Player(r);return n._setupEvents(e),e},createSongPlayer:function(n){return $("<div>").addClass("iru-tiny-player").append($("<div>").addClass("song-seek")).append($("<div>").addClass("song-progress")).append($("<div>").addClass("song-main-info").append($('<div class="icon fa-play">')).append($('<div class="icon fa-pause">').hide()).append($('<div class="icon fa-stop">')).append($('<div class="song-title">').html(n+"  ")).append($("<div>").addClass("song-timer")).append($('<div class="icon fa-volume-up">'))).append($("<div>").addClass("song-volume-control").hide().append($("<div>").addClass("song-volume-bar").attr("id","bg")).append($("<div>").addClass("song-volume-bar").attr("id","fg")).append($("<div>").addClass("song-volume-bar").attr("id","fgg")).append($("<div>").addClass("song-volume-dot")).append($("<div>").addClass("icon fa-times")))},_setupEvents:function(n){var r=this,e=0;n._playlist.forEach((function(t){var o=t.html_elem,i=e;t.howl=r._createHowlForPlayer(n,t),r._bindPlayerControls(n,o,i),++e}))},_createHowlForPlayer:function(n,r){var e=r.html_elem,t=this;return new Howl({src:r.files,html5:!0,preload:r.preload,onplay:function(){e.find(".fa-play").hide(),e.find(".fa-pause").show(),requestAnimationFrame(n.step.bind(n))},onload:function(){e.find(".song-timer").html(t._formatTime(this.duration()))},onend:function(){e.find(".song-timer").html(t._formatTime(this.duration())),e.find(".song-progress").css("width","0%"),e.find(".song-title").html(r.title+"  "),e.find(".fa-pause").hide(),e.find(".fa-play").show()},onpause:function(){e.find(".fa-pause").hide(),e.find(".fa-play").show()},onstop:function(){e.find(".song-timer").html(t._formatTime(this.duration())),e.find(".song-progress").css("width","0%"),e.find(".song-title").html(r.title+"  "),e.find(".fa-pause").hide(),e.find(".fa-play").show()}})},_bindPlayerControls:function(n,r,e){r.find(".fa-play").click((function(){n.toggleTo(e)})),r.find(".fa-pause").click((function(){n.pause(e)})),r.find(".fa-stop").click((function(){n.stop(e)})),r.find(".fa-volume-up").click((function(){r.find(".song-volume-control").show()})),r.find(".fa-times").click((function(){r.find(".song-volume-control").hide()})),r.find(".song-volume-bar#fgg").click((function(e){var t=e.pageX,o=(t=t-r.find(".song-volume-bar#bg").offset().left-7.5)/parseFloat(r.find(".song-volume-bar#bg").innerWidth());n.volume(o)})),r.find(".song-volume-dot").mousedown((function(){n._mouse_down=!0})),r.find(".song-volume-control").mouseup((function(){n._mouse_down=!1})),r.find(".song-volume-control").mousemove((function(e){if(n._mouse_down){var t=e.pageX;t=t-r.find(".song-volume-bar#bg").offset().left-7.5;var o=parseFloat(r.find(".song-volume-bar#bg").innerWidth()),i=Math.min(1,Math.max(0,t/o));n.volume(i)}}));var t=function(n,r,e){var t=n.pageX;t-=r.find(e).offset().left;var o=parseFloat(r.find(".song-seek").innerWidth());return Math.min(1,Math.max(0,t/o))};r.find(".song-seek").mousedown((function(o){n._seeking=!0,n.updateDuration(e,t(o,r,".song-seek"))})),r.find(".song-seek").mousemove((function(o){n._seeking&&n.updateDuration(e,t(o,r,".song-seek"))})),r.find(".song-seek").mouseup((function(){n._seeking=!1,n.seek(e,t(event,r,".song-seek"))})),r.find(".song-progress").mousedown((function(o){n._seeking=!0,n.updateDuration(e,t(o,r,".song-progress"))})),r.find(".song-progress").mousemove((function(o){n._seeking&&n.updateDuration(e,t(o,r,".song-progress"))})),r.find(".song-progress").mouseup((function(){n._seeking=!1,n.seek(t(e,event,r))}))},_formatTime:function(n){var r=Math.floor(n/3600)||0,e=Math.floor((n-3600*r)/60)||0,t=Math.floor(n-60*e)||0;return r>0?r+":"+(e<10?"0":"")+e+":"+(t<10?"0":"")+t:e+":"+(t<10?"0":"")+t}}};"object"==typeof exports&&(exports.Player=n.tinyPlayer.Player,exports.createPlayerFromTags=n.tinyPlayer.createPlayerFromTags,exports.createSongPlayer=n.tinyPlayer.createSongPlayer)}()})();